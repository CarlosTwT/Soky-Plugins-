import axios from 'axios'

export default {
  name: 'facebook',
  tags: 'download',
  command: ['facebook', 'fb'],
  description: 'Descarga vídeos de Facebook',
  example: Func.example('%p', '%cmd', 'https://www.facebook.com/100010929794713/posts/1885825845125057'),
  limit: true,
  run: async(m, { sock, args }) => {
    if (!args[0].match('youtu.be')) return m.reply(global.status.invalid)
    m.reply(global.status.wait)
    let old = new Date()
      try {
        let res = await axios.get(`http://144.126.156.179/download/ytmp4?url=${args[0]}`);
        sock.sendMessage(m.chat, { video: { url: res.data.url }, caption: `• *Download* : ${((new Date - old) * 1)} ms Fb` },{ quoted: m })
      } catch (e) {
        console.log(e)
        return m.reply(global.status.error)
      }
  }
}